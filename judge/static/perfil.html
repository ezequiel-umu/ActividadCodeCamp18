<!DOCTYPE html>
<html>

<head>
  <title>CodeCamp18 - Perfil</title>
  <meta charset="utf-8" />

</head>

<body>
<div class="container" style="padding-top: 50px;">
<nav class="nav justify-content-end" style="padding-bottom: 20px;>
<ul class="nav justify-content-end">
   <form method="post" onsubmit="logout(event)">
	<button class="btn btn-secondary" type="submit">Logout</button>
  </form>
</ul>
</nav>
<div class="jumbotron">
  <form method="post" onsubmit="botSubmit(event)">
  <div class="input-group">
    <div class="custom-file">
      <input id="files" class="custom-file-input" type="file" accept="application/gzip" />
      <label class="custom-file-label" for="files">Elige archivo</label>
    </div>
    <div class="input-group-append">
	<button class="btn btn-outline-secondary" type="submit">Enviar consulta</button>
    </div>
  </div>
  </form>
</div>
</div>
</body>




    






<script>
  function filesFromSelector(selector) {
    return document.querySelector(selector).files;
  }

  function botSubmit(ev) {
    ev.preventDefault();
    const files = filesFromSelector("#files");
    const selected = document.querySelector("option:checked");
    const kind = encodeURIComponent("C++");
    doPost("/api/bot?kind="+kind, files[0]).then((e) => {
      document.location = "/";
    }).catch((e) => {
      swal("Algo no va muy bien que digamos", e.message, "error");
    });
  }

  function logout(ev) {
    ev.preventDefault();
    doPost("/api/logout").then((e) => {
      setSessionInfo({});
      document.location = "/";
    }).catch((e) => {
      swal("Algo no va muy bien que digamos", e.message, "error");
    });
  }
</script>

<script src="/framework/index.js"></script>
</html>
